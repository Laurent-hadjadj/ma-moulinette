{% set title = 'Profils qualités' %}
{% set description = 'Ma Moulinette - profils qualités.' %}
<!DOCTYPE html>
<html  lang="fr">

{# Chargement de la section HEAD #}
<head>
  {{ include('head.html.twig') }}
  {% block stylesheets %}
     {{ encore_entry_link_tags('profil') }}
  {% endblock %}
</head>

<body>
{# Chargement de la section header #}
{{ include('header.html.twig') }}
<br />

<header class="grid-container">
	<nav aria-label="Ici : " role="navigation">
		<ul class="claire-hand breadcrumbs">
      <li><a href="/">Accueil</a></li>
      <li><span class="show-for-sr">Current:</span>Profil</li></ul>
	</nav>
</header>


<div class="grid-container">
  <h2 class="claire-hand">Liste des profils qualités.</h2>
  <div class="grid-x cell">
    <h4 class="claire-hand"><span id="affiche-total-profil" class="stat">
      {{liste|length}}</span> trouvé(s).</h4>
      <table class="hover">
      <caption class="claire-hand">Liste des profils qualités 2021.</caption>
      <thead>
        <tr>
          <th class="open-sans text-center">Version</th>
          <th class="open-sans text-center">Langage</th>
          <th class="open-sans text-center">Règle</th>
          <th class="open-sans text-center">Date</th>
          <th class="open-sans text-center">Actif</th>
        </tr>
      </thead>
      <tbody id="tableau-liste-profil" class="open-sans">
      {% set total=0 %}
      {% for profil in liste %}
        <tr class="open-sans">
	        <td>{{profil.profil}}</td>
	        <td class="text-center">{{profil.langage}}</td>
          <td class="text-center">{{profil.regle|format_number(locale='fr')}}</td>
          <td class="text-center">
            <span class="show-for-small-only">{{profil.date|date("m/d/Y", "Europe/Paris")}}</span>
            <span class="show-for-medium">{{profil.date|date("m/d/Y à H:m", "Europe/Paris")}}</span>
          </td>
          {% if profil.actif ==1 %}
             {% set statut1='Oui' %}
             {% set statut2='O' %}
          {% else %}
             {% set statut1='Non' %}
             {% set statut2='N' %}
          {% endif %}
          <td class="text-center">
            <span class="show-for-small-only">{{statut2}}</span>
            <span class="show-for-medium">{{statut1}}</span>
          </td>
	      </tr>
        {% set total= total + profil.regle %}
      {% endfor %}
      </tbody>
    </table>
    <p class="open-sans">Le référentiel des règles de développement contient
	    <strong>{{ total|format_number(locale='fr') }}</strong> règles.</p>
  </div>

<div class="button expanded float-center graphique-langage">
	<div class="cell">
		<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="graphique-svg">
			<path d="M223.8 34.6C135.1 47.5 61.6 113.2 39.5 199.5c-5.6 22-6.9 32.5-6.9 56 0 23.4 1.4 35.8 6.5 55.9 19.2 76.5 79.8 138.8 155.8 160.1 59 16.5 122.8 8.3 174.4-22.5 59.6-35.5 98.5-93.9 108.2-162.5.8-5.5 1.5-11 1.5-12.2V272l-114.4-.2c-113.8-.3-114.5-.3-117.2-2.4-1.5-1.1-3.7-3.3-4.8-4.8-2.1-2.7-2.1-3.4-2.4-117.2L240 33l-3.3.1c-1.7.1-7.6.7-12.9 1.5z"/>
			<path d="M272 136.5V240h207v-2.3c0-1.2-.7-6.7-1.5-12.2-6.6-46.8-26.8-88.9-59-123.3C384 65.5 334.4 40.3 284 34.1c-4.6-.6-9.2-1.1-10.2-1.1-1.7 0-1.8 5-1.8 103.5z"/>
		</svg>
		<span class="open-sans" style="color:#fff;">Afficher la répartition des langages</span>
	</div>
</div>
<div class="float-center" style="width:54vw">
	<canvas id="graphique-langage" aria-label="Distribution des langages." role="img"></canvas>
</div>
</div>

<br /><br />
{# Chargement de la section footer #}
{{ include('footer.html.twig') }}
{# Chargement du code javascript #}
{% block javascripts %}
  {{ encore_entry_script_tags('profil') }}
{% endblock %}
</body>
</html>
