{% set title = 'Profils qualités' %}
{% set description = 'Ma Moulinette - profils qualités.' %}
<!DOCTYPE html>
<html	lang="fr">

  {# Chargement de la section HEAD #}
  <head>
    {{ include('head.html.twig') }}
    {% block stylesheets %}
      {{ encore_entry_link_tags('profil') }}
    {% endblock %}
  </head>

  <body>
    {# Chargement de la section header #}
    {{ include('header.html.twig') }}
    <br>

    <header class="grid-container">
      <nav aria-label="Ici : " role="navigation">
        <ul class="claire-hand breadcrumbs">
          <li>
            <a href="/">Accueil</a>
          </li>
          <li>
            <span class="show-for-sr">Current:</span>Profil</li>
        </ul>
      </nav>
    </header>


    <div class="grid-container">
      <h2 class="claire-hand">Liste des profils qualités.</h2>
      <div class="grid-x cell">
        <h4 class="claire-hand">
          <span id="affiche-total-profil" class="stat">{{liste|length}}</span>
          trouvé(s).
        </h4>
        <table class="hover">
          <caption class="claire-hand">Liste des profils qualités 2021.</caption>
          <thead>
            <tr>
              <th scope="col" class="open-sans text-center">Version</th>
              <th scope="col" class="open-sans text-center">Langage</th>
              <th scope="col" class="open-sans text-center">Règle</th>
              <th scope="col" class="open-sans text-center">Date</th>
              <th scope="col" class="open-sans text-center">Actif</th>
            </tr>
          </thead>
          <tbody id="tableau-liste-profil" class="open-sans">
            {% set total=0 %}
            {% for profil in liste %}
              <tr class="open-sans">
                <td>{{profil.profil}}</td>
                <td class="text-center">{{profil.langage}}</td>
                <td class="text-center">{{profil.regle|format_number(locale='fr')}}</td>
                <td class="text-center">
                  <span class="show-for-small-only">{{profil.date|date("d/m/Y", "Europe/Paris")}}</span>
                  <span class="show-for-medium">{{profil.date|date("d/m/Y à H:m", "Europe/Paris")}}</span>
                </td>
                {% if profil.actif ==1 %}
                  {% set statut1='Oui' %}
                  {% set statut2='O' %}
                {% else %}
                  {% set statut1='Non' %}
                  {% set statut2='N' %}
                {% endif %}
                <td class="text-center">
                  <span class="show-for-small-only">{{statut2}}</span>
                  <span class="show-for-medium">{{statut1}}</span>
                </td>
              </tr>
              {% set total= total + profil.regle %}
            {% endfor %}
          </tbody>
        </table>
        <p class="open-sans">Le référentiel des règles de développement contient
          <strong><span class="js-total">{{ total|format_number(locale='fr') }}</span></strong>
          règles.
        </p>
      </div>

      <div class="button expanded float-center refresh">
        <div class="cell">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="refresh-svg">
            <path d="M234 1C154.4 8.5 84.7 50.6 41 117.6c-8.2 12.6-21.4 38.8-22.9 45.4-4.4 19.1 5.2 38.8 22.9 46.9 16.2 7.5 34.1 4.1 46.3-8.8 4-4.2 7-9 11.9-19.1 16.9-34.6 41.1-60.4 73.5-78.3 50.4-27.8 113.1-28.4 163.3-1.5 8.9 4.7 24 14.6 24 15.7 0 .4-5 1.5-11.2 2.4-18.1 2.7-23.8 6.8-24.6 17.8-.5 6.8 1.6 11.9 6.2 15.3 5.1 3.8 130.6 59.8 135.3 60.4 7.8.9 16-4.9 18.3-12.9.5-1.7 1-35.7 1.1-75.5l.1-72.3-2.4-4.3c-5.2-9.5-18.7-11.8-26.7-4.5-1.3 1.2-6.3 8.2-11.2 15.4C440 67 435.7 73 435.4 73c-.3 0-3.6-2.8-7.2-6.1C396.1 37.4 354.2 15.6 311 6c-21.7-4.8-55.4-7-77-5zM37.2 300.1c-4.6 2.3-7.8 6.2-9.2 11-.5 1.7-1 35.7-1.1 75.5l-.1 72.3 2.4 4.3c5.2 9.5 18.7 11.8 26.7 4.5 1.3-1.2 6.3-8.2 11.2-15.4C72 445 76.3 439 76.6 439c.3 0 3.6 2.8 7.2 6.1 27.2 25 63.1 45.4 98.4 55.9 61.4 18.3 125.9 13.3 183.8-14.1 51.9-24.7 93.6-66 119.5-118.4 7.8-15.8 9.5-20.8 9.5-29 0-25.6-24.4-45.9-48.9-40.6-15.1 3.2-23.7 11.3-33.3 31.1-16.9 34.6-41.1 60.4-73.5 78.3-50.4 27.8-113.1 28.4-163.3 1.5-8.9-4.7-24-14.6-24-15.7 0-.4 5-1.5 11.2-2.4 18.1-2.7 23.8-6.8 24.6-17.8.5-6.8-1.6-11.9-6.2-15.3-1.7-1.3-31.9-15.3-67.1-31.1-44.8-20.2-65.3-28.9-68.5-29.2-3.3-.3-5.7.2-8.8 1.8z"/>
          </svg>
          <span class="show-for-medium open-sans color-blanc">Mise à jour de liste des référentiels.</span>
          <span class="show-for-small-only open-sans color-blanc">Mise à jour.</span>
        </div>
      </div>
      <div class="button expanded float-center graphique-langage">
        <div class="cell">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="graphique-svg">
            <path d="M223.8 34.6C135.1 47.5 61.6 113.2 39.5 199.5c-5.6 22-6.9 32.5-6.9 56 0 23.4 1.4 35.8 6.5 55.9 19.2 76.5 79.8 138.8 155.8 160.1 59 16.5 122.8 8.3 174.4-22.5 59.6-35.5 98.5-93.9 108.2-162.5.8-5.5 1.5-11 1.5-12.2V272l-114.4-.2c-113.8-.3-114.5-.3-117.2-2.4-1.5-1.1-3.7-3.3-4.8-4.8-2.1-2.7-2.1-3.4-2.4-117.2L240 33l-3.3.1c-1.7.1-7.6.7-12.9 1.5z"/>
            <path d="M272 136.5V240h207v-2.3c0-1.2-.7-6.7-1.5-12.2-6.6-46.8-26.8-88.9-59-123.3C384 65.5 334.4 40.3 284 34.1c-4.6-.6-9.2-1.1-10.2-1.1-1.7 0-1.8 5-1.8 103.5z"/>
          </svg>
          <span class="open-sans color-blanc">Afficher la répartition des langages</span>
        </div>
      </div>
      <div class="float-center graphique-container">
        <canvas id="graphique-langage" aria-label="Distribution des langages."
        role="img"></canvas>
      </div>
    </div>

      <br><br>
      {# Chargement de la section footer #}
      {{ include('footer.html.twig') }}
      {# Chargement du code javascript #}
      {% block javascripts %}
        {{ encore_entry_script_tags('profil') }}
      {% endblock %}
    </body>
  </body>
</html>
