{% set title = 'Activite' %}
{% set description = 'Ma Moulinette - ac.' %}
<!DOCTYPE html>
<!--
.. __  __             __  __             _ _            _   _
  |  \/  | __ _      |  \/  | ___  _   _| (_)_ __   ___| |_| |_ ___
  | |\/| |/ _` |_____| |\/| |/ _ \| | | | | | '_ \ / _ \ __| __/ _ \
  | |  | | (_| |_____| |  | | (_) | |_| | | | | | |  __/ |_| ||  __/
  |_|  |_|\__,_|     |_|  |_|\___/ \__,_|_|_|_| |_|\___|\__|\__\___|

  Laurent HADJADJ
  https://github.com/Laurent-hadjadj/ma-moulinette
  © 2024 - CC BY-SA-NC 4.0
-->
<html lang="fr">
  {# Chargement de la section HEAD #}
  <head>
    <title>{{ title }}</title>
    {{ include('head.html.twig') }}
    {% block stylesheets %}
      {{ encore_entry_link_tags('activite') }}
    {% endblock %}
  </head>

  <body>
    {# Chargement de la section header #}
    {{ include('header.html.twig') }}
    <br>
    <header class="grid-container">
      <nav id="fil-ariane" aria-label="vous êtes ici :">
        <ol class="claire-hand breadcrumbs">
          <li>
            <a href="/">Accueil</a>
          </li>
          <li>
            <span class="show-for-sr">vous êtes ici :</span>activite
          </li>
        </ol>
      </nav>
    </header>

    {# Le bla bla #}

    <main class="grid-container rid-x rid-padding-x">
      <h1 class="h2 claire-hand">Liste des Activités</h1>
      <div class="grid-container grid-x" role="alert" aria-label="messages d'information">
        {% for message in app.flashes('notice') %}
          <div class="callout alert-callout-border js-message {{message.type}}" role="alert">
            <span class="open-sans color-bleu">
              <strong>{{message.titre}}</strong>
              {{ message.message }}
            </span>
          </div>
        {% endfor %}
      </div>
      <h2 id="js-date-enregistrement" class="h4 open-sans">
        <p><strong>Derniere date d'enregistrement : </strong>{{data.0.date_enregistrement}}</p>
      </h2>
      <div class="cell small-12 medium-6 large-6">
        <p class="button expanded float-center bouton-activite-refresh js-activite-refresh">
          <span class="show-for-medium open-sans color-blanc">Mise à jour de la liste</span>
          <span class="show-for-small-only open-sans color-blanc">Mise à jour</span>
        </p>
      </div>
      <div class="cell small-12 medium-6 large-6">
        <p class="button expanded float-center bouton-activite-dujour ">
          <span class="show-for-medium open-sans color-blanc">Afficher les données du jour</span>
          <span class="show-for-small-only open-sans color-blanc">Donnée du jour</span>
        </p>
      </div>
      <table class="hover">
        <thead>
          <tr>
            <th class="text-center open-sans">
              Annee
              <span class="tooltip-icon" title="L'année de l'activité">?</span>
            </th>
            <th class="text-center open-sans">
              Jour
              <span class="tooltip-icon" title="Le nombre de jours depuis la première analyse">?</span>
            </th>
            <th class="text-center open-sans">
              Analyses
              <span class="tooltip-icon" title="Le nombre total d'analyses">?</span>
            </th>
            <th class="text-center open-sans">
              Moyenne
              <span class="tooltip-icon" title="La moyenne des analyses par jour">?</span>
            </th>
            <th class="text-center open-sans">
              Reussite
              <span class="tooltip-icon" title="Le nombre d'analyse réussites">?</span>
            </th>
            <th class="text-center open-sans">
              Echec
              <span class="tooltip-icon" title="Le nombre d'analyse qui ont echouées">?</span>
            </th>
            <th class="text-center open-sans">
              Taux de reussite
              <span class="tooltip-icon" title="Le pourcentage de réussite">?</span>
            </th>
            <th class="text-center open-sans">
              Temps Max
              <span class="tooltip-icon" title="Le temps maximum pour une analyse">?</span>
            </th>
          </tr>
        </thead>
        <tbody id="js-tableau-stats" class="text-center open-sans">
          {% for activite in data %}
            <tr>
              <td>{{ activite.annee }}</td>
              <td>{{ activite.nb_jour }}</td>
              <td>{{ activite.nb_analyse }}</td>
              <td>{{ activite.moyenne_analyse }}</td>
              <td>{{ activite.nb_reussi }}</td>
              <td>{{ activite.nb_echec }}</td>
              <td>{{ activite.taux_reussite }} %</td>
              <td>{{ activite.max_temps }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

			
    </main>

    {# Chargement de la section footer #}
    {{ include('footer.html.twig') }}

    {# Chargement du code javascript #}
    {% block javascripts %}
      {{ encore_entry_script_tags('activite') }}
    {% endblock %}
  </body>
</html>
